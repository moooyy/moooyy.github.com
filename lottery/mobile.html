<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<style type="text/css">
    html,body,div,ul,li,a,p,h1,h2,h3{margin:0;padding:0;color:#666;}
    ul,li{list-style: none;}
    img{border:none;}
    a{text-decoration: none;}
    .zhuanpanBG{
        width: 320px;
        height: 320px;
        background: url(circle-s.png) 0 0 no-repeat;
        position: relative;
    }
    .zhuanpan{
        width: 258px;
        height: 258px;
        position: absolute;
        overflow: hidden;
        border-radius: 50%;
        left: 31px;
        top: 31px;
        -webkit-transition-duration: 5s;
        /*opacity: .5;*/
    }
    .zhuanpan li{
        position: absolute; left:50%; top: 50%; width: 260px; height: 260px;background: #ccc;
        -webkit-transform-origin: 100% 100%;
        -moz-transform-origin: 100% 100%;
        -ms-transform-origin: 100% 100%;
        transform-origin: 100% 100%;
        /*border:1px solid #ccc;*/
        overflow:hidden;
        margin: -260px 0 0 -260px;
        text-align:center;

    }
    .zhuanpan li:nth-child(1){-webkit-transform: rotate(30deg) skew(30deg); background: #df6600;}
    .zhuanpan li:nth-child(2){-webkit-transform: rotate(90deg) skew(30deg); background: #ffe1c8;}
    .zhuanpan li:nth-child(3){-webkit-transform: rotate(150deg) skew(30deg);background: #df6600;}
    .zhuanpan li:nth-child(4){-webkit-transform: rotate(210deg) skew(30deg);background: #ffe1c8;}
    .zhuanpan li:nth-child(5){-webkit-transform: rotate(270deg) skew(30deg);background: #df6600;}
    .zhuanpan li:nth-child(6){-webkit-transform: rotate(330deg) skew(30deg);background: #ffe1c8;}

    .zhuanpan span{ position: absolute; width:260px;height:260px;text-align:center;-webkit-transform:skew(-30deg) rotate(210deg);color:#333;top:-22%;left:65%;font:18px/1 "Microsoft Yahei"}

    .shadow{
        opacity: .4;
        width: 180px;
        height: 180px;
        position: absolute;
        top: 39px;
        left: 39px;
        background: #e83b0d;
        border-radius: 50%;
    }
    .startBtn{
        width: 151px;
        height: 208px;
        background: url(button.png);
        position: absolute;
        z-index: 100;
        left: 82px;
        top: 28px;
        cursor: pointer;
    }
</style>
<div class="nav" id="dazhuanpan">
    <div class="zhuanpanBG" id="bglight">
        <ul class="zhuanpan" id="circleboard">
            <li><span>下次再来</span></li>
            <li><span>一等奖</span></li>
            <li><span>不要灰心</span></li>
            <li><span>二等奖</span></li>
            <li><span>感谢参加</span></li>
            <li><span>三等奖</span></li>
            <div class="shadow"></div>
        </ul>
        <div class="startBtn" id="startBtn"></div>
    </div>
</div>
<!-- 公共库 -->    
<script src="http://cdn.bootcss.com/zepto/1.1.4/zepto.js"></script>
<script type="text/javascript">
var i = 0, timedur = 5000, rotateStatus, frequency;
var pirceLevel = Math.round(Math.random()*3);
function bglight (status) {
    if(status){
        clearInterval(rotateStatus);
        rotateStatus = setInterval(function () {
            i < 3 ? i++ : i = 0;
            var bgheight = -320*i+"px";
            $("#bglight").css("background-position","0 "+ bgheight);
        }, 50);
        setTimeout(bglight, timedur);
    }else{
        try{
            clearInterval(rotateStatus);
            $("#bglight").css("background-position","0 0");
        }catch(e){}
    }
}
function rotate (level) {
    var level = level || pirceLevel,
        rotateDeg = 0;
    switch (level) {
        case 1:
            rotateDeg = 330 + 360*10;
        break;
        case 2:
            rotateDeg = 210  + 360*10;
        break;
        case 3:
            rotateDeg = 90  + 360*10;
        break;
        default:
            rotateDeg = 30  + 360*10;
    }
    $("#circleboard").css("-webkit-transform", "rotate("+ rotateDeg +"deg)");
    bglight(1);
}
$("#startBtn").click(function () {
    $("#startBtn").off("click");
    $("#startBtn").css("cursor", "default");
    rotate();
})
</script>
<!-- 内部方法 -->